<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Snorktracker: Overview of the system settings</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Snorktracker
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Overview of the system settings </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h3>Connect to the Web Interface</h3>
<p>The easiest method is when the module automatically logs into your Wifi network. To do this you change the two defines <b>WIFI_SID</b> and <b>WIFI_PW</b> in <a class="el" href="_config_8h.html">Config.h</a> before compiling. If you supply then the system with power, it starts the integrated web server and logs into your WiFi network. You can use your router software to search for the new SnorkTracker IP. You can then open a web browser and enter this new ip as <a href="http://xxx.xxx.xxx.xxx">http://xxx.xxx.xxx.xxx</a> Attention: The system does not support https yet so it only works if the URL starts with <b>http:</b></p>
<p>If you have problems finding out the new IP, you can also simply search for the new access point called <b>SnorkTracker</b> in your WiFi settings and then connect to it. If you have connected to this access point you can now connect with a browser. Since the system works with a captive portal and redirects all unknown urls to its own, it is sufficient if you enter a random http: - url. e.g. <a href="http://Dummy.html">http://Dummy.html</a> Make sure you use http and not https.</p>
<h2>Configure the details</h2>
<p>If you now have access to the web server interface you can configure all the details via the <b>Settings</b> page.</p>
<div class="image">
<img src="../images/Settings.png"  alt="Settings overview" title="Settings overview"/>
</div>
<p>All other settings are now described in detail below.</p>
<p>Hint: All Interval settings can be entered as '[days] hours:minutes:seconds' or just 'seconds'.</p>
<h3>WiFi Settings</h3>
<div class="image">
<img src="../images/SettingsWiFi.png"  alt="Wi-Fi Settings" title="Wi-Fi Settings"/>
</div>
<p> If not configured via the <b><a class="el" href="_config_8h.html">Config.h</a></b> file you can change here the access point name and password to your WiFi.</p>
<h3>GPRS Settings</h3>
<div class="image">
<img src="../images/SettingsGprs.png"  alt="GPRS Settings" title="GPRS Settings"/>
</div>
<p>Be sure that you have inserted a valid SIM card with a valid contract into the SIM card slot of the SIM808. Note that the system connects without a password. So the easiest way to check if the system works without a password and to check if it can connect to a GPRS network is to put it into a mobile phone and check on start for password query and browsing functionality.</p>
<p>To connect to the Internet different gprs provider use different gprs access point names. For example, sunrise uses the access point name 'INTERNET' and swisscom the name 'gprs.swisscom.ch'. Search the Internet for the access point name of your provider.</p>
<h3>Enable debugging</h3>
<div class="image">
<img src="../images/SettingsDebug.png"  alt="Debug Settings" title="Debug Settings"/>
</div>
<p>The system has possibility to put more detailed information to the console window. If you want to know i.e. the detailed communication between the esp8266 and the sim808 module you can switch on here the display of this information. For performance reason it is better to switch off this if it is not needed.</p>
<h3>Enable environment sensor</h3>
<div class="image">
<img src="../images/SettingsBME280.png"  alt="BME280 Settings" title="BME280 Settings"/>
</div>
<p>The system is connected to a BME280 sensor. This sensor can scan the temperature, humidity and the pressure of its environment. With this settings you can control the interval of the scan. These environment values doe not change so often so it is enough if this interval is set to a bigger value like 1 minute or bigger.</p>
<h3>SMS Settings</h3>
<div class="image">
<img src="../images/SettingsSms.png"  alt="SMS Settings" title="SMS Settings"/>
</div>
<p>If the system is switched on and it has a valid gprs connection details of it can be controlled via incoming sms. Here you can set the interval of this sms check.</p>
<h3>GPS Settings</h3>
<div class="image">
<img src="../images/SettingsGps.png"  alt="GPS Settings" title="GPS Settings"/>
</div>
<p>If the system is switched on you can also switch on the gps check functionality and the gps check interval here. Remember that it can take up to a minute for the sim808 module to receive a valid gps signal. If you configure a gps check interval below this the system waits until it has a valid gps value.</p>
<h3>MQTT Settings</h3>
<div class="image">
<img src="../images/SettingsMqtt.png"  alt="MQTT Settings" title="MQTT Settings"/>
</div>
<p>With this settings part you can configure the mqtt connection to your mqtt server. If the system has a valid mqtt server connection it sends only the information that are valid at this moment. So, for example if you switched off the gps then this information could not be send to your server. If you have switched on the gps sending than you can additionally configure here how often the gps values should be send while your system is moving and how often if the system stands fix on one place.</p>
<p>Here is a screen shot of a mqtt server result in <b>ioBroker</b> software. See <a href="http://iobroker.net">http://iobroker.net</a></p>
<div class="image">
<img src="../images/MqttServer.png"  alt="MQTT Server Settings" title="MQTT Server Settings"/>
</div>
<p>Remember the system works with HTTP and not with HTTPS. So be sure you can connect with this protocol to your MQTT server.</p>
<h3>Power Save Setting</h3>
<div class="image">
<img src="../images/SettingsDeepSleep.png"  alt="Deep Sleep Settings" title="Deep Sleep Settings"/>
</div>
<p>If you connect the system to a battery it is important that you don't use to much power consumption. Here you can configure that the system can detect if your battery is powered via a generator or not. Make some tests how much voltage the battery has when charging and when not charging. Then set a value between the two values here so the system can sleep if not charging. It is better to set the active time to low value because the system waits with the sleep mode if all the needed operations (gps, mqtt, sms) are done. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
